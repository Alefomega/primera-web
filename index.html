<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <title>Input a Supabase</title>
</head>
<body>

    <a href="superbase.html" style="display:block;">Superbase 1</a>
    <a href="superbase2.html" style="display:block;">Superbase 2</a>
    <a href="filmaffinity.html" style="display:block;">Filmaffinity</a>

    <br>

    <input id="miInput" type="text" placeholder="Escribe algo...">
    <div id="mostrar"></div>

    <script type="module">
        import { agregarMensaje } from './app.js';

        const input = document.getElementById('miInput');
        const mostrar = document.getElementById('mostrar');

        input.addEventListener('keypress', async (e) => {
            if (e.key === 'Enter') {
                const valor = input.value.trim();
                if (!valor) return;

                // 1. Mostrar en pantalla
                const p = document.createElement('p');
                p.textContent = valor;
                mostrar.appendChild(p);

                // 2. Agregar a Supabase
                await agregarMensaje(valor);

                // 3. Limpiar input
                input.value = '';
            }
        });
    </script>

</body>
</html>
